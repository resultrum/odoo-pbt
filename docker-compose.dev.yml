# Development Configuration
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d
#
# Features:
# - Custom module development with hot-reload
# - PyCharm debugging support (see docs/DEBUGGING_SIMPLE.md)
# - Git-aggregator for OCA modules (optional)
#
# NOTE: Odoo Enterprise clone (odoo-enterprise/) is OPTIONAL
# - Only needed if debugging Odoo core code
# - Not required for debugging custom modules
# - See docs/DEBUGGING_SIMPLE.md for details

services:
  web:
    volumes:
      # Custom modules (read-write for development)
      - ./addons/custom:/mnt/extra-addons/custom:rw
      - ./addons/oca:/mnt/extra-addons/oca:rw
      - ./addons/oca-addons:/mnt/extra-addons/oca-addons:rw
      - ./repos.yml:/mnt/repos.yml:ro

      # SSH keys for cloning private repos
      - ~/.ssh:/root/.ssh:ro

    environment:
      - ENABLE_GIT_AGGREGATE=false  # DEV: Load modules from local volumes
      # Uncomment to enable git-aggregator for pulling OCA modules
      # - ENABLE_GIT_AGGREGATE=true
